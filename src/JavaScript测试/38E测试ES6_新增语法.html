<!DOCTYPE html>
<html lang="en">
    <!-- 
        1、let、const关键字
            1. 使用 var 声明的变量，其作用域为该语句所在的函数内，且存在变量提升现象。 
            2. 使用 let 声明的变量，其作用域为该语句所在的代码块内，不存在变量提升。 
            3. 使用 const 声明的是常量，在后面出现的代码中不能再修改该常量的值。
        2、数组解构赋值，ES6中允许从数组中提取值，按照对应位置，对变量赋值。对象也可以实现解构。
        3、箭头函数。
        4、剩余参数 语法允许我们将一个不定数量的参数表示为一个数组。
        5、Array 的扩展运算符 可以将数组拆分成以逗号分隔的参数序列

     -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试ES6新增语法</title>
</head>
<body>
    <script>
        /**
         *  一、测试解构赋值
         * 1、如果解构不成功，变量的值为undefined。
        */
       //数组解构
       console.log("数组解构:")
        let [a, b, c] = [1, 2, 3];
        console.log(a)
        console.log(b)
        console.log(c)
        // 对象解构
        let person = { name: 'zhangsan', age: 20 };
        let { name, age } = person;
        console.log(name); // 'zhangsan' 
        console.log(age); // 20


        /**
         *  二、测试箭头函数
         * 1、ES6中新增的定义函数的方式：
         *      () => {}    
         *    //函数体中只有一句代码，且代码的执行结果就是返回值，可以省略大括号
         * 
         * 2、箭头函数不绑定this关键字，箭头函数中的this，指向的是函数定义位置的上下文this。
        */
        // 箭头函数中的this指向
        function fn () {
			console.log(this);
			return () => {
				console.log(this)
			}
		}
		const obj = {name: 'zhangsan'};
		const resFn = fn.call(obj);

        //剩余参数语法允许我们将一个不定数量的参数表示为一个数组。
        function sum(first, ...args) {
            console.log(first); // 10
            console.log(args); // [20, 30] 
        }
        sum(10, 20, 30)
        let ary1 = ['张三' , '李四', '王五'];
		let [s1, ...s2] = ary1;
		console.log(s1)
		console.log(s2)

        /**
         * 三、Array 的新增语法
         * 1、扩展运算符（展开语法）：可以将数组或者对象转为用逗号分隔的参数序列。
         * 2、构造函数方法：Array.from()：将类数组或可遍历对象转换为真正的数组。
        */
        let ary = [1, 2, 3];
        console.log(...ary); // 1 2 3
        console.log(1, 2, 3)

        //扩展运算符可以应用于合并数组。
        // 方法一
        let ary2 = [3, 4, 5];
        let ary3 = [...ary1, ...ary2];
        // 方法二
        ary1.push(...ary2);

        //将类数组或可遍历对象转换为真正的数组
        let oDivs = document.getElementsByTagName('div');
        oDivs = [...oDivs]

        //Array.from()将类数组或可遍历对象转换为真正的数组
        let arrayLike = {
            '0': 'a',
            '1': 'b',
            '2': 'c',
            length: 3
        };
        let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']

        //Array.from()方法还可以接受第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。
        let newAry = Array.from(arr2, item => item + "哈哈")
        console.log(newAry)
        
        /**
         * 四、String 的扩展方法
         * 1、模板字符串：模板字符串中可以解析变量。反引号定义
         * 2、ES6新增的创建字符串的方式，使用反引号定义。里面可以换行。
         *  let html = ` <div>
         *               <span>${result.name}</span>
         *               <span>${result.age}</span>
         *               <span>${result.sex}</span>
         *              </div> `;
        */
        let myName = '张三';
        let sayHello = `hello,my name is ${myName}`; // hello, my name is 张三
        let sayHello2 = "hello2,${myName}"  //不是模版字符串，不可以解析变量。
        console.log(sayHello)
    </script>
    
</body>
</html>